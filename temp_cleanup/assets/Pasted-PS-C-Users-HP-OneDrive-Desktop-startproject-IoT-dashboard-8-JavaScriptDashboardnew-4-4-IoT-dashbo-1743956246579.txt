PS C:\Users\HP\OneDrive\Desktop\startproject\IoT_dashboard_8\JavaScriptDashboardnew-4 (4)\IoT_dashboard_8> node fix-column-names-complete.js
======================================
   Comprehensive Fix for Column Name Mismatches
======================================

Connected to PostgreSQL database successfully

Checking scheme_status table...
Getting current column structure...
Found 15 columns in scheme_status table
✅ total_villages_in_scheme column already exists
✅ total_esr_in_scheme column already exists
🔧 Adding total_villages column with default 0...
✅ Added total_villages column with default 0
🔧 Adding functional_villages column with default 0...
✅ Added functional_villages column with default 0
🔧 Adding partial_villages column with default 0...
✅ Added partial_villages column with default 0
🔧 Adding non_functional_villages column with default 0...
✅ Added non_functional_villages column with default 0
🔧 Adding villages_integrated column with default 0...
✅ Added villages_integrated column with default 0
✅ villages_integrated_on_iot column already exists
🔧 Adding esr_integrated column with default 0...
✅ Added esr_integrated column with default 0
✅ esr_integrated_on_iot column already exists
✅ fully_completed_esr column already exists
🔧 Adding total_esr column with default 0...
✅ Added total_esr column with default 0
🔧 Adding scheme_status column with default value...
✅ Added scheme_status column with default value
🔧 Adding integration_status column with default value...
✅ Added integration_status column with default value
🔧 Adding functional_status column with default value...
✅ Added functional_status column with default value
🔧 Adding flow_meters column with default 0...
✅ Added flow_meters column with default 0
🔧 Adding pressure_transmitters column with default 0...
✅ Added pressure_transmitters column with default 0
🔧 Adding residual_chlorine_analyzers column with default 0...
✅ Added residual_chlorine_analyzers column with default 0
🔧 Adding residual_chlorine_connected column with default 0...
✅ Added residual_chlorine_connected column with default 0
🔧 Adding pressure_transmitters_connected column with default 0...
✅ Added pressure_transmitters_connected column with default 0
🔧 Adding flow_meters_connected column with default 0...
✅ Added flow_meters_connected column with default 0
🔧 Adding agency column...
🔧 Setting default agency values based on region...
✅ Added agency column and updated values based on region

🔍 Verifying all column mappings...
✅ All required columns are now present in the scheme_status table

✅ Fix completed successfully!
The scheme_status table now has all the column mappings needed by the application.
You should now be able to:
1. View scheme details on the dashboard
2. Import Excel/CSV files through the admin panel
3. See today's updates on the dashboard

Please restart your application with:
npm run dev